# Тестовое задание для vizorlabs
## Установка
После того как вы с клонировали проект, перейдите в его корневую директорию и создайте .env файл c переменными:
 - DOMAIN - доменное имя проекта, нужно для работы веб сервера и получения сертификатов
 - DRY_RUN - флаг для тестового режима при получении сертификатов, нужен для проверки, чтобы не исчерпать лимит запросов. Принимает значении 1 и 0, где 1 включения безопасного режима, а 0 выключение.

Для получения сертификатов letsencrypt используется крипт init-letsencrypt.sh, выдайте ему права на исполнение и запустите:
```sh
chmod +x init-letsencrypt.sh && ./init-letsencrypt.sh
```
После получения сертификата, нужно настроить ssl в конфигурационном фале nginx:
```sh
nano nginx/configs/flaskblog.conf.template
```
Вы можете добавить какой то свой блок, или раскоментировать имеющейся там. После чего перезапустите контейнеры:
```sh
docker-compose restart
```
## Бэкап и восстановление 
Чтобы сделать бэкап SQLite, достаточно куда скопировать каталог db находящейся в корне проекта, желательно при выключенном контейнере:
```sh
cp -r flaskBlog/db ~/backup
```
По аналогии, чтобы восстановить из бэкапа базу, перенести файлы бд в каталог db в корне проекта:
```sh
rm -rf flaskBlog/db && cp -r ~/backup/db flaskBlog/
```
